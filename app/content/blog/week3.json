{
  "publishedAt": "20th May 2023",
  "title": "Convert EBS type of GP2 to GP3 automatically using Lambda Function",
  "content": "\n\nProblem Statement: \n\n As a Cloud Engineering team we take care of the AWS environment and make sure it is in compliance with the organizational policies. We use AWS cloud watch in combination with AWS Lambda to govern the resources according to the policies. For example, we Trigger a Lambda function when an Amazon Elastic Block Store (EBS) volume is created. We use Amazon CloudWatch Events. CloudWatch Events that allows us to monitor and respond to EBS volumes that are of type GP2 and convert them to type GP3.\n\n 1. Create a Lambda Function ebs_volume_check with the following code. \n\n <img src='/images/uploads/w3i1.jpg'> \n\n 2. Create a CloudWatch Event based on Rules and Create the rule like this: \n\n <img src='/images/uploads/w3i2.jpg'> \n\n  <img src='/images/uploads/w3i3.jpg'> \n\n Specify the Target as Lambda Function and ebs_volume_check \n\n  <img src='/images/uploads/w3i4.jpg'> \n\n 3. Configure the rule details and create the rule. \n\n  <img src='/images/uploads/w3i5.jpg'> \n\n 4. Under IAM Role search for ebs_volume_... \n\n <img src='/images/uploads/w3i6.jpg'> \n\n 5. Under Add permissions select create inline policy \n\n <img src='/images/uploads/w3i7.jpg'> \n\n Select the service as EC2 and actions as Describe and Modify Volume \n\n <img src='/images/uploads/w3i8.jpg'> \n\n \n\n <img src='/images/uploads/w3i9.jpg'>\n\n Select all resources and Review policy \n\n <img src='/images/uploads/w3i10.jpg'> \n\n  <img src='/images/uploads/w3i11.jpg'> \n\n 6. Now, create an EBS volume of type GP2. \n\n <img src='/images/uploads/w3i12.jpg'>\n\n 7. Now, refresh it you see the EBS volume of type2 being converted into type3. \n\n 8. Lambda Function is working successfully. \n\n <img src='/images/uploads/w3i13.jpg'>\n\n 9. For Lambda function, you can refer the github repo in the references. Please do not forget to destroy the resources created. \n\n Thank you for reading my blog. \n\n References  \n\n https://github.com/akhilsingh-git/Aws-gp2togp3 \n\n",
  "featuredImage": "/images/uploads/week3.jpg"
}
